# Инструкция для My-Tracking

### 1. Создание бота
1. Создаем бота для приема трафика с лендинга в [@BotFather](https://t.me/BotFather) и получаем токен.
2. Устанавливаем аватарку, описание и название бота.


### 2. Настройка в админ-боте [@abl_admin_track_bot](https://t.me/abl_admin_track_bot)
- Создаем приветственное сообщение (с фото или без).
- Добавляем кнопки (ссылки на каналы).
- Тестируем работу рассылки (на всякий случай).


### 3. Создаем переходник/лендинг (без кнопок)
### 4. Добавляем «Скрипт-код + код кнопки» на переходник/лендинг
- Заменяем в коде никнейм бота на вашего.  
Пример кода:

```html
<script src="https://my-tracking.site/js/botTracking.js"></script>
<a data-bot="MyTelegramBot">
  Перейти в телеграм
</a>
```
Важно! Указать реальный ник бота в data-bot.
Можно создавать много кнопок, желательно script указать в head страницы.

### 5. Настройка таблицы проекта
1. Создаём таблицу с названием проекта [Трекинг].
2. Заходим в Расширения → Apps Script → Библиотеки и указываем ID:
```txt
1qlHlmxZ2sE1ekKnARtndAAPiPsM0NmK-2hTdSzDN-897eJ1mG9FCXeqQ
```
3. Переходим в «Файлы» → «Код.js» и вставляем скрипт, заменив токен бота на свой:
```js
function runExport() { 
  botTracking.exportUsersToActiveSheet("ТОКЕН_БОТА");
}
```
### 6. Настройка триггеров
1. Переходим в раздел «Триггеры» → «Добавление триггера».
2. Выбираем функцию runExport (обычно уже выбрано), остальное скипаем, так как по умолчанию указано «Выберите тип события» → «При открытии».
3. После нажатия на «Сохранить» потребует разрешений действия аккаунта (на всё соглашаемся).
4. Потом создаем 2 триггер, но уже в разделе «Выберите источник мероприятия» указываем «Триггер по времени», потом «Выберите тип триггера» — «По минутам», потом «Выберите промежуток времени в минутах» — указываем 5 или 10 минут по желанию.
## Настройка завершена!

